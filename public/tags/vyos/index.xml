<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>vyos on Steve&#39;s Blog</title>
    <link>https://echowings.github.io/tags/vyos/</link>
    <description>Recent content in vyos on Steve&#39;s Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Wed, 21 Feb 2024 17:30:09 +0800</lastBuildDate><atom:link href="https://echowings.github.io/tags/vyos/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>How to Deploy Vyos With Terraform on Proxmox Ve</title>
      <link>https://echowings.github.io/p/how-to-deploy-vyos-with-terraform-on-proxmox-ve/</link>
      <pubDate>Wed, 21 Feb 2024 17:30:09 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-deploy-vyos-with-terraform-on-proxmox-ve/</guid>
      <description>Prerequest Since PVE 8 has bug with terraform. so I highly recommand use pve 7 Install Terraform 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 sudo apt-get update &amp;amp;&amp;amp; sudo apt-get install -y gnupg software-properties-common wget -O- https://apt.releases.hashicorp.com/gpg | \ gpg --dearmor | \ sudo tee /usr/share/keyrings/hashicorp-archive-keyring.gpg gpg --no-default-keyring \ --keyring /usr/share/keyrings/hashicorp-archive-keyring.gpg \ --fingerprint echo &amp;#34;deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] \ https://apt.releases.hashicorp.com $(lsb_release -cs) main&amp;#34;</description>
    </item>
    
    <item>
      <title>How to Create Vyos Template on Proxmox</title>
      <link>https://echowings.github.io/p/how-to-create-vyos-template-on-proxmox/</link>
      <pubDate>Wed, 21 Feb 2024 17:24:06 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-create-vyos-template-on-proxmox/</guid>
      <description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 #!</description>
    </item>
    
    <item>
      <title>How to Build Qemu With Cloudinit Support for Vyos</title>
      <link>https://echowings.github.io/p/how-to-build-qemu-with-cloudinit-support-for-vyos/</link>
      <pubDate>Wed, 21 Feb 2024 16:17:56 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-build-qemu-with-cloudinit-support-for-vyos/</guid>
      <description>Perepare Linux For me I perfer to Debian linux
Install docker Install docker 1 2 3 4 5 6 7 8 9 10 apt install -y wget curl cp /etc/apt/sources.list /etc/apt/sources.list-bak wget https://mirrors.ustc.edu.cn/repogen/conf/debian-https-4-bullseye -O /etc/apt/sources.list sudo apt install apt-transport-https ca-certificates curl software-properties-common curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg echo &amp;#34;deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian $(lsb_release -cs) stable&amp;#34; | sudo tee /etc/apt/sources.list.d/docker.list &amp;gt; /dev/null sudo apt update sudo apt install docker-ce docker-ce-cli containerd.</description>
    </item>
    
    <item>
      <title>How to Setup Vyos With Vyos Pve Image on Pve</title>
      <link>https://echowings.github.io/p/how-to-setup-vyos-with-vyos-pve-image-on-pve/</link>
      <pubDate>Fri, 22 Dec 2023 23:22:24 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-setup-vyos-with-vyos-pve-image-on-pve/</guid>
      <description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 #!</description>
    </item>
    
    <item>
      <title>How to Build Vyos Image 1.3.5</title>
      <link>https://echowings.github.io/p/how-to-build-vyos-image-1.3.5/</link>
      <pubDate>Fri, 22 Dec 2023 17:41:27 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-build-vyos-image-1.3.5/</guid>
      <description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 sudo apt update sudo apt install -y unzip VYOS_VERSION=&amp;#34;1.3.5&amp;#34; YOUR_MAIL=&amp;#34;MYMAIL@EXAMPLE.COM&amp;#34; curl -O -L https://github.com/vyos/vyos-build/archive/refs/tags/$VYOS_VERSION.zip unzip $VYOS_VERSION.zip cd vyos-build-$VYOS_VERSION docker build -t vyos-builder docker docker run --rm -it --privileged -v $(pwd):/vyos -w /vyos vyos-builder bash VYOS_VERSION=&amp;#34;1.</description>
    </item>
    
    <item>
      <title>How to Fix Http Api Async Not Support</title>
      <link>https://echowings.github.io/p/how-to-fix-http-api-async-not-support/</link>
      <pubDate>Fri, 14 Jul 2023 01:00:20 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-fix-http-api-async-not-support/</guid>
      <description>For a long time ago, When I try to implement some automation job with vyos api, when mutiple client call a server side api, will make the server config.boot cut off. When the server of vyos reboot, the configuration will broken and not working anymore.
After report the bug to vyos developer team. They tell me that this is the miss configration of http-api issue. But it can be patch by modify the file/usr/libexec/vyos/services/vyos-http-api-server.</description>
    </item>
    
    <item>
      <title>How to Disconnect and Reconnect Vyos Pppoe0 Interface With Crontab</title>
      <link>https://echowings.github.io/p/how-to-disconnect-and-reconnect-vyos-pppoe0-interface-with-crontab/</link>
      <pubDate>Fri, 17 Mar 2023 21:01:28 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-disconnect-and-reconnect-vyos-pppoe0-interface-with-crontab/</guid>
      <description>Create vbash script Create folder 1 mkdir /config/scripts/reboot_pppoe_connection Create script 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 mv /config/scripts/reboot_pppoe_connection/reboot_pppoe_connection.sh{,.bak} ls /config/scripts/reboot_pppoe_connection/ tee -a /config/scripts/reboot_pppoe_connection/reboot_pppoe_connection.sh &amp;lt;&amp;lt; &amp;#34;EOF&amp;#34; #!/bin/vbash source /opt/vyatta/etc/functions/script-template logfile=/var/log/reconnect_pppoe0.log echo &amp;#34;==================================&amp;#34; &amp;gt;&amp;gt; ${logfile} 2&amp;gt;&amp;amp;1 date &amp;#39;+%Y-%m-%d %H:%M:%S&amp;#39; &amp;gt;&amp;gt; ${logfile} 2&amp;gt;&amp;amp;1 run show interfaces | grep -A 2 ppoe0 | tee &amp;gt;&amp;gt; ${logfile} 2&amp;gt;&amp;amp;1 run disconnect interface pppoe0 | tee &amp;gt;&amp;gt; ${logfile} 2&amp;gt;&amp;amp;1 run connect interface pppoe0 | tee &amp;gt;&amp;gt; ${logfile} 2&amp;gt;&amp;amp;1 echo &amp;#34;sleep 3 second.</description>
    </item>
    
    <item>
      <title>How to Update Network Group Base Domain Name on VyOS</title>
      <link>https://echowings.github.io/p/how-to-update-network-group-base-domain-name-on-vyos/</link>
      <pubDate>Tue, 21 Feb 2023 22:16:02 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-update-network-group-base-domain-name-on-vyos/</guid>
      <description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 #!</description>
    </item>
    
    <item>
      <title>How to Install Sshpass on Vyos 1.3.x</title>
      <link>https://echowings.github.io/p/how-to-install-sshpass-on-vyos-1.3.x/</link>
      <pubDate>Mon, 14 Nov 2022 09:09:33 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-install-sshpass-on-vyos-1.3.x/</guid>
      <description>How to Install SSHPASS on VyOS 1.3.x how-to-install-sshpass-on- vyos-1.3.x Since vyos 1.3.x base on debian 10, so we can install sshpass 1.06 for debian on vyos 1.3.x
Download and install sshpass 1.06 for debian 10 1 2 3 wget http://ftp.de.debian.org/debian/pool/main/s/sshpass/sshpass_1.06-1_amd64.deb sudo dpkg -i sshpass_1.06-1_amd64.deb Run sshpass 1 2 3 4 5 6 7 8 9 10 11 12 13 # run command via ssh without inactively sshpass -p &amp;#39;ssh_password&amp;#39; ssh -t root@ssh_host -p 22 &amp;#39;uptime&amp;#39; # Copy files to remote sshpass -p &amp;#39;ssh_password&amp;#39; scp -P 22 myfile.</description>
    </item>
    
    <item>
      <title>How to Enable Http Api Service on VyOS</title>
      <link>https://echowings.github.io/p/how-to-enable-http-api-service-on-vyos/</link>
      <pubDate>Tue, 26 Apr 2022 00:17:15 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-enable-http-api-service-on-vyos/</guid>
      <description>How to enable API serivce on VyOS
How to enable API serivce on VyOS After these days, I wrote some vyos shell script to auto detect network status and automatacally change some settings. In the way There will be new configuration to loading directly and hold the configuration mode for a longer time. This is not in a smart way.
Another better option, What if we can change settings of vyos with api?</description>
    </item>
    
    <item>
      <title>How to Install Vlmcsd on Debian</title>
      <link>https://echowings.github.io/p/how-to-install-vlmcsd-on-debian/</link>
      <pubDate>Tue, 02 Mar 2021 12:19:36 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-install-vlmcsd-on-debian/</guid>
      <description>How to Install VLMCSD on debian VLMCSD vlmcsd-1113-2020-03-28-Hotbird64 Download and install 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 VLMCSD_VERSION=svn113 curl -fsSLO https://github.com/Wind4/vlmcsd/releases/download/$VLMCSD_VERSION/binaries.tar.gz tar -zxvf binaries.tar.gz sudo cp -af ./binaries/Linux/intel/glibc/vlmcsd-x64-glibc /usr/local/bin/ chown root:root /usr/local/bin/vlmcsd-x64-glibc chmod +x /usr/local/bin/vlmcsd-64-glibc sudo bash -c &amp;#39;cat &amp;gt; /lib/systemd/system/vlmcsd.service&amp;#39; &amp;lt;&amp;lt;</description>
    </item>
    
    <item>
      <title>How to Install Freedns Go on Vyos</title>
      <link>https://echowings.github.io/p/how-to-install-freedns-go-on-vyos/</link>
      <pubDate>Mon, 11 Jan 2021 01:13:07 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-install-freedns-go-on-vyos/</guid>
      <description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 #Switch to root mode sudo su #Define freedns version freedns_version=v2020.9.17 #Create dcompass temp folder sudo mkdir -p /tmp/freedns # Swich to folder just we created.</description>
    </item>
    
    <item>
      <title>How to Install Dcompass on Vyos</title>
      <link>https://echowings.github.io/p/how-to-install-dcompass-on-vyos/</link>
      <pubDate>Tue, 22 Dec 2020 02:57:46 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-install-dcompass-on-vyos/</guid>
      <description>Dcompass github address Dcompass Address Dcompass Release bianry 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 #Switch to root mode sudo su #Define dcompass version dcompass_version=build-20210803_1007 #Create dcompass temp folder sudo mkdir -p /tmp/dcompass # Swich to folder just we created.</description>
    </item>
    
    <item>
      <title>How to Reset Vyos to Default Settings</title>
      <link>https://echowings.github.io/p/how-to-reset-vyos-to-default-settings/</link>
      <pubDate>Fri, 04 Sep 2020 22:48:34 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-reset-vyos-to-default-settings/</guid>
      <description>How to reset VyOS to default settings 1 2 3 4 configure load /opt/vyatta/etc/config.boot.default commit save </description>
    </item>
    
    <item>
      <title>How to make Destination Base Routing With Vyos</title>
      <link>https://echowings.github.io/p/how-to-make-destination-base-routing-with-vyos/</link>
      <pubDate>Thu, 03 Sep 2020 16:36:31 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-make-destination-base-routing-with-vyos/</guid>
      <description>How to make Destination Base Routing with Vyos I have 2 network interfaces. one for user access inboard network,another for user to access network aboard. How to make it work with vyos?
Make a network group 1 2 3 4 5 #Define a netwrok-group set firewall group network-group china-ip-ranges #Define lan network group set firewall group network-group lan-net-group network &amp;#39;192.168.11.0/24&amp;#39; set policy 1 2 3 4 5 set policy route network-shunt rule 20 destination group network-group &amp;#39;china-ip-ranges&amp;#39; set policy route network-shunt rule 20 set table &amp;#39;20&amp;#39; set policy route network-shunt rule 20 source group network-group &amp;#39;lan-net-group&amp;#39; set policy route network-shunt rule 30 set table &amp;#39;30&amp;#39; set policy route network-shunt rule 30 source group network-group &amp;#39;lan-net-group&amp;#39; Download and set the network-group with ipset Download and make a list for network-group loading when booting.</description>
    </item>
    
    <item>
      <title>How to Config Ddns for Vyos With Dns.he.net</title>
      <link>https://echowings.github.io/p/how-to-config-ddns-for-vyos-with-dns.he.net/</link>
      <pubDate>Wed, 05 Aug 2020 16:26:46 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-config-ddns-for-vyos-with-dns.he.net/</guid>
      <description>How to config DDNS for vyos with dns.he.net Register A Recored Register a domian host.mydomain.com on your https://dns.he.net Generate a key 64LGiLiuoiuoiuoi Run command to setup the ddns service 1 2 3 4 5 6 7 8 configure set service dns dynamic interface pppoe0 service dyndns host-name &amp;#39;host.mydomain.com&amp;#39; set service dns dynamic interface pppoe0 service dyndns login &amp;#39;host.mydomain.com&amp;#39; set service dns dynamic interface pppoe0 service dyndns password &amp;#39;64LGiLiuoiuoiuoi&amp;#39; set service dns dynamic interface pppoe0 service dyndns server &amp;#39;dyn.</description>
    </item>
    
    <item>
      <title>How to Build L2tp Over Ipsec VPN With Vyos</title>
      <link>https://echowings.github.io/p/how-to-build-l2tp-over-ipsec-vpn-with-vyos/</link>
      <pubDate>Wed, 05 Aug 2020 10:57:22 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-build-l2tp-over-ipsec-vpn-with-vyos/</guid>
      <description>How to build L2tp over ipsec vpn with vyos Today, I will show you how to build a l2tp over ipsec vpn with adsl wan address.
Setup vpn on vyos Generate a preshare key 1 2 $ generate wireguard preshared-key uND0O6RYI1O833NL2+qwSrW4htMll1hJAUM2nPQaa8k= With authentication local configuration VPN Key Value WAN interface pppoe0 l2tp vpn network 172.16.100.0/24 PRESHARE KEY uND0O6RYI1O833NL2+qwSrW4htMll1hJAUM2nPQaa8k= DNS server 01 192.168.0.1 DNS Server 02 1921.68.0.2 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 configure set vpn ipsec auto-update &amp;#39;30&amp;#39; set vpn ipsec ipsec-interfaces interface &amp;#39;pppoe0&amp;#39; set vpn ipsec nat-networks allowed-network 0.</description>
    </item>
    
    <item>
      <title>How to Build Ipsec Site to Site Vpn With Vyos and Pfsense</title>
      <link>https://echowings.github.io/p/how-to-build-ipsec-site-to-site-vpn-with-vyos-and-pfsense/</link>
      <pubDate>Thu, 19 Dec 2019 14:36:09 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-build-ipsec-site-to-site-vpn-with-vyos-and-pfsense/</guid>
      <description>How to build ipse site-to-site VPN with vyos and pfsense Vyos VS pfsense For build all kinds of network functions like nat,firewall, site-to-site vpn , dial in vpn with pfsense.It works well. But it has some Crons:
Hard to upgrade version, it manybe crashed Didn&amp;rsquo;t support API. Heavy loading and low performance. After try to replace pfsense to build all functions with vyos. It has a lot of pros:
Easy upgrade and rollback Support http and python api Support ansible deploy Command line operation,just like juniper and cisco.</description>
    </item>
    
    <item>
      <title>How to Setup Vyos as a Firewall</title>
      <link>https://echowings.github.io/p/how-to-setup-vyos-as-a-firewall/</link>
      <pubDate>Thu, 08 Aug 2019 13:58:35 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-setup-vyos-as-a-firewall/</guid>
      <description>How to Setup Vyos as a Firewall Setup interface Interface IP Address Description eth0 pppoe WAN eth1 192.168.68.1 / 24 DMZ eth2 10.0.0.1 / 24 LAN 1 2 3 4 5 6 7 8 9 10 set interface ethernet eth0 pppoe 0 user-id &amp;#39;&amp;lt;pppoe accout&amp;gt;&amp;#39; set interface ethernet eth0 pppoe 0 password &amp;#39;&amp;lt;pppoe password&amp;gt;&amp;#39; set interface ethernet eth0 pppoe 0 name-server &amp;#39;none&amp;#39; set interface ethernet eth0 description &amp;#39;WAN&amp;#39; set interface ethernet eth1 address 192.</description>
    </item>
    
    <item>
      <title>How to Install Overture on VYOS 1.2.1 release</title>
      <link>https://echowings.github.io/p/how-to-install-overture-on-vyos-1.2.1-release/</link>
      <pubDate>Sat, 18 May 2019 01:35:52 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/how-to-install-overture-on-vyos-1.2.1-release/</guid>
      <description>How to install overture on Vyos 1.2 I need to build a dns forwarding server to anti dns cache pollution.overture is a good choice for me. it writen in go with good performance. Here we go!
Download ovrture you can check overture version from here
Login vyos . 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 sudo su overture_version=v1.</description>
    </item>
    
    <item>
      <title>Vyos How to Setup Wireguard</title>
      <link>https://echowings.github.io/p/vyos-how-to-setup-wireguard/</link>
      <pubDate>Wed, 17 Apr 2019 12:31:08 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/vyos-how-to-setup-wireguard/</guid>
      <description>How to conifugre wireguard in vyos WireGuard is an extremely simple yet fast and modern VPN that utilizes state-of-the-art cryptography.
Wireguard Today I will try to deploy wireguard with two vyos .
Site-to-Sit mode 1 2 3 4 5 6 7 Toplogy |--------------------------------| |---------------------------------| | Server | | Client | | |-----cloud ----| wan:${wan-address} | | wireguard tunnel interface:wg01| | Wireguard tunnel interface:wg01 | |--------------------------------| |---------------------------------| Server configuration 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 # Generates a new keypair, if one exists already is asks you if you want to overwrite the existing one.</description>
    </item>
    
    <item>
      <title>Building Network With Vyos 01---Basic Installing and Configuration</title>
      <link>https://echowings.github.io/p/building-network-with-vyos-01---basic-installing-and-configuration/</link>
      <pubDate>Fri, 26 Oct 2018 22:44:02 +0800</pubDate>
      
      <guid>https://echowings.github.io/p/building-network-with-vyos-01---basic-installing-and-configuration/</guid>
      <description>Building Network With Vyos.-.01.Basic Installing and Configuration Vyos is a debian base router. it is fork form vyatta core.It is very stable and fast router OS. It hasn’t web UI, but only command line configration just like JUNOS.
At now, vyos version will be vyos version 1.2 released. I will wirte the turtural with vyos 1.2RC4.
Install vyos Download vyos form the office website:
Download Link: vyos-1.2.0-rc-4-amd64 Write iso image to usb disk Linux and Mac: 1 ddi if=vyos-1.</description>
    </item>
    
  </channel>
</rss>
