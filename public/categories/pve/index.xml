<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Pve on Steve&#39;s Blog</title>
    <link>https://echowings.github.io/categories/pve/</link>
    <description>Recent content in Pve on Steve&#39;s Blog</description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Sun, 05 May 2024 14:18:08 +0800</lastBuildDate>
    <atom:link href="https://echowings.github.io/categories/pve/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>How to Deploy Vyos With Terraform on Proxmox Ve</title>
      <link>https://echowings.github.io/p/how-to-deploy-vyos-with-terraform-on-proxmox-ve/</link>
      <pubDate>Wed, 21 Feb 2024 17:30:09 +0800</pubDate>
      <guid>https://echowings.github.io/p/how-to-deploy-vyos-with-terraform-on-proxmox-ve/</guid>
      <description>Prerequest Since PVE 8 has bug with terraform. so I highly recommand use pve 7 Install Terraform 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 sudo apt-get update &amp;amp;&amp;amp; sudo apt-get install -y gnupg software-properties-common wget -O- https://apt.releases.hashicorp.com/gpg | \ gpg --dearmor | \ sudo tee /usr/share/keyrings/hashicorp-archive-keyring.gpg gpg --no-default-keyring \ --keyring /usr/share/keyrings/hashicorp-archive-keyring.gpg \ --fingerprint echo &amp;#34;deb [signed-by=/usr/share/keyrings/hashicorp-archive-keyring.gpg] \ https://apt.releases.hashicorp.com $(lsb_release -cs) main&amp;#34;</description>
    </item>
    <item>
      <title>How to Create Vyos Template on Proxmox</title>
      <link>https://echowings.github.io/p/how-to-create-vyos-template-on-proxmox/</link>
      <pubDate>Wed, 21 Feb 2024 17:24:06 +0800</pubDate>
      <guid>https://echowings.github.io/p/how-to-create-vyos-template-on-proxmox/</guid>
      <description>1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 #!</description>
    </item>
    <item>
      <title>How to Build Qemu With Cloudinit Support for Vyos</title>
      <link>https://echowings.github.io/p/how-to-build-qemu-with-cloudinit-support-for-vyos/</link>
      <pubDate>Wed, 21 Feb 2024 16:17:56 +0800</pubDate>
      <guid>https://echowings.github.io/p/how-to-build-qemu-with-cloudinit-support-for-vyos/</guid>
      <description>Perepare Linux For me I perfer to Debian linux&#xA;Install docker Install docker 1 2 3 4 5 6 7 8 9 10 apt install -y wget curl cp /etc/apt/sources.list /etc/apt/sources.list-bak wget https://mirrors.ustc.edu.cn/repogen/conf/debian-https-4-bullseye -O /etc/apt/sources.list sudo apt install apt-transport-https ca-certificates curl software-properties-common curl -fsSL https://download.docker.com/linux/debian/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg echo &amp;#34;deb [arch=amd64 signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/debian $(lsb_release -cs) stable&amp;#34; | sudo tee /etc/apt/sources.list.d/docker.list &amp;gt; /dev/null sudo apt update sudo apt install docker-ce docker-ce-cli containerd.</description>
    </item>
    <item>
      <title>How to Upgrade Pve7.4 to Pve8</title>
      <link>https://echowings.github.io/p/how-to-upgrade-pve7.4-to-pve8/</link>
      <pubDate>Fri, 23 Jun 2023 10:02:06 +0800</pubDate>
      <guid>https://echowings.github.io/p/how-to-upgrade-pve7.4-to-pve8/</guid>
      <description>How to Upgrade Pve7.4 to Pve8 Last night, When I found that proxmox ve 8 has been released. Then I want to try it and I do it immediately. Here is what I did to upgrade pve.&#xA;1 Backup 1.2 backup vms and containers &amp;ndash;skip&amp;ndash;&#xA;1.2 Backup /etc/ folder &amp;ndash;skip&amp;ndash;&#xA;Check upgrade status 1 2 3 4 5 6 7 8 # Upgrade to latest pve 7.4 apt update &amp;amp;&amp;amp; apt -y dist-upgrade # Reboot systemctl reboot # pve7to8 checklist script pve7to8 --full Change Sourcelist for debian 12 1 2 3 4 5 # Backup debian 11 sourcelist mv /etc/apt/sources.</description>
    </item>
    <item>
      <title>How to Install Pve7 on Debian11</title>
      <link>https://echowings.github.io/p/how-to-install-pve7-on-debian11/</link>
      <pubDate>Fri, 24 Mar 2023 11:07:19 +0800</pubDate>
      <guid>https://echowings.github.io/p/how-to-install-pve7-on-debian11/</guid>
      <description>how-to-install-pve-on-debian11 change sourcelist to utsc 1 2 3 4 5 6 cp /etc/apt/sources.list /etc/apt/sources.list-bak wget https://mirrors.ustc.edu.cn/repogen/conf/debian-https-4-bullseye -O /etc/apt/sources.list cat /etc/apt/sources.list apt update &amp;amp;&amp;amp; apt -y dist-upgrade apt install -y neovim net-tools Change network name from enp* to eth* 1 2 3 4 5 6 7 export PATH=$PATH:/usr/sbin:/home/$(whoami)/.local/bin echo &amp;#34;export PATH=$PATH:/usr/sbin:/home/$(whoami)/.local/bin&amp;#34; &amp;gt;&amp;gt; ~/.bashrc cp /etc/default/grub /etc/default/grub-bak sed -i &amp;#39;/GRUB_CMDLINE_LINUX=/s/&amp;#34;$/net.ifnames=0 biosdevname=0&amp;#34;/&amp;#39; /etc/default/grub sed -i &amp;#39;s/enp2s0/eth0/&amp;#39; /etc/network/interfaces update-grub Then reboot your server&#xA;1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 ipv4_addr=$(ip -4 route get 8.</description>
    </item>
    <item>
      <title>How to Delete Ghost Monitor in Ceph Cluster</title>
      <link>https://echowings.github.io/p/how-to-delete-ghost-monitor-in-ceph-cluster/</link>
      <pubDate>Thu, 01 Jul 2021 14:06:58 +0800</pubDate>
      <guid>https://echowings.github.io/p/how-to-delete-ghost-monitor-in-ceph-cluster/</guid>
      <description>How to delete ghost monitor in ceph cluster Today , after I let a new server join pve cluster. ceph mon is stopped. I want to start or delete it , I always got a failed notification. After search and try to fix it. At last I fixed it.Here is what I had do&#xA;Issue description 1 2 3 4 root@xa-autotest-hci04:~# pveceph createmon monitor &amp;#39;xa-autotest-hci04&amp;#39; already exists root@xa-autotest-hci04:~# pveceph mon destroy xa-autotest-hci04 no such monitor id &amp;#39;xa-autotest-hci04&amp;#39; How to fixed it 1 2 3 4 5 6 7 8 9 10 11 12 #stop ceph-mon@xa-autotest-hci04 service systemctl stop ceph-mon@xa-autotest-hci04 #Disable ceph-mon@xa-autotest-hci04 service systemctl disable ceph-mon@xa-autotest-hci04 pveceph purge rm -rf /var/lib/ceph/mon/ceph-xa-autotest-hci04 pveceph createmon #Created symlink /etc/systemd/system/ceph-mon.</description>
    </item>
    <item>
      <title>How to Let a New Server Join Hci System</title>
      <link>https://echowings.github.io/p/how-to-let-a-new-server-join-hci-system/</link>
      <pubDate>Thu, 01 Jul 2021 06:38:10 +0800</pubDate>
      <guid>https://echowings.github.io/p/how-to-let-a-new-server-join-hci-system/</guid>
      <description>##How to let a new server join the exist HCI cluster&#xA;1. Insall the pve on the server &amp;ndash;skip&amp;mdash;&#xA;2. Let the new server join the pve cluster 1 2 #ssh login the server pvecm add 10.32.4.37 3. configure NTP server 1 2 3 4 5 cat &amp;gt;&amp;gt; /etc/systemd/timesyncd.conf &amp;lt;&amp;lt; EOF NTP=192.168.0.2 192.168.0.3 EOF # Restart systemd-timesyncd service to apply settings systemctl restart systemd-timesyncd 4. Install ceph 1 pveceph install 5.</description>
    </item>
    <item>
      <title>How to Rename Vm Id on Pve</title>
      <link>https://echowings.github.io/p/how-to-rename-vm-id-on-pve/</link>
      <pubDate>Fri, 26 Mar 2021 15:23:43 +0800</pubDate>
      <guid>https://echowings.github.io/p/how-to-rename-vm-id-on-pve/</guid>
      <description>How to rename VMID on PVE 1 2 3 4 5 6 7 8 9 VMID=121 &amp;amp;&amp;amp; \ NEW_VMID=1001 &amp;amp;&amp;amp; \ POOL_NAME=tank &amp;amp;&amp;amp; \ qm unlock $VMID &amp;amp;&amp;amp; \ qm stop $VMID &amp;amp;&amp;amp; \ sed -i &amp;#34;s/$VMID/$NEW_VMID/g&amp;#34; /etc/pve/qemu-server/$VMID.conf &amp;amp;&amp;amp; \ mv /etc/pve/qemu-server/$VMID.conf /etc/pve/qemu-server/$NEW_VMID.conf &amp;amp;&amp;amp; \ rbd --pool $POOL_NAME rename vm-$VMID-disk-0 vm-$NEW_VMID-disk-0 &amp;amp;&amp;amp;\ qm start $NEW_VMID </description>
    </item>
    <item>
      <title>How to Install Pbs on Debian 10</title>
      <link>https://echowings.github.io/p/how-to-install-pbs-on-debian-10/</link>
      <pubDate>Thu, 11 Mar 2021 16:58:45 +0800</pubDate>
      <guid>https://echowings.github.io/p/how-to-install-pbs-on-debian-10/</guid>
      <description>How to Install PBS on Debian 10 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 export LANGUAGE=en_US.UTF-8 export LANG=en_US.UTF-8 export LC_ALL=en_US.UTF-8 #locale-gen en_US.UTF-8 cat &amp;gt;&amp;gt; /etc/environment &amp;lt;&amp;lt;EOF LC_ALL=en_US.UTF-8 LANG=en_US.UTF-8 EOF cat &amp;lt;&amp;lt; EOF &amp;gt; /etc/apt/sources.list deb https://mirrors.ustc.edu.cn/debian/ buster main contrib non-free deb-src https://mirrors.ustc.edu.cn/debian/ buster main contrib non-free deb https://mirrors.</description>
    </item>
  </channel>
</rss>
